# Alternative Data Alpha Platform Configuration

# Data Ingestion Settings
data_ingestion:
  satellite:
    enabled: true
    providers:
      - planet_labs
      - maxar
      - sentinel
    targets:
      - retail_parking  # Walmart, Target, etc.
      - oil_storage     # Tank shadows for inventory
      - shipping_ports  # Supply chain analysis
      - agriculture     # Crop yield prediction
    image_resolution: 3m  # 3 meter resolution
    update_frequency: "daily"
    storage_path: "data/raw/satellite"
    batch_size: 32

  nlp:
    enabled: true
    sources:
      earnings_calls:
        enabled: true
        providers: ["seekingalpha", "factset"]
        update_frequency: "real-time"
      sec_filings:
        enabled: true
        forms: ["10-K", "10-Q", "8-K", "DEF-14A"]
        update_frequency: "real-time"
      patents:
        enabled: true
        sources: ["uspto", "epo"]
        update_frequency: "weekly"
      news:
        enabled: true
        sources: ["bloomberg", "reuters", "wsj"]
        sentiment_model: "finbert"
    storage_path: "data/raw/nlp"

  web_scraping:
    enabled: true
    targets:
      product_reviews:
        sites: ["amazon", "walmart", "bestbuy"]
        update_frequency: "daily"
      job_postings:
        sites: ["linkedin", "indeed", "glassdoor"]
        update_frequency: "daily"
      app_rankings:
        stores: ["apple_appstore", "google_play"]
        update_frequency: "hourly"
      social_media:
        platforms: ["twitter", "reddit", "stocktwits"]
        sentiment_analysis: true
        bot_detection: true
    proxy:
      enabled: true
      rotating: true
      providers: ["brightdata", "oxylabs"]
    rate_limiting:
      requests_per_minute: 30
      concurrent_connections: 5
    storage_path: "data/raw/web"

  credit_card:
    enabled: false  # Requires commercial data license
    providers: []
    update_frequency: "weekly"

# Feature Engineering Settings
feature_engineering:
  computer_vision:
    models:
      object_detection: "yolov8x"  # YOLOv8 extra-large
      segmentation: "detectron2_maskrcnn"
      activity_recognition: "slowfast"
    preprocessing:
      image_size: [1024, 1024]
      augmentation: true
      normalization: "imagenet"

  nlp:
    models:
      sentiment: "finbert"
      ner: "spacy_en_core_web_trf"
      embeddings: "sentence-transformers/all-mpnet-base-v2"
      summarization: "facebook/bart-large-cnn"
    features:
      - sentiment_score
      - readability_metrics
      - deception_indicators
      - management_confidence
      - forward_looking_statements

  graph_neural_networks:
    enabled: true
    graph_types:
      - supply_chain
      - board_connections
      - patent_citations
      - customer_supplier
    model: "gcn"  # Graph Convolutional Network
    embedding_dim: 128

  multi_modal_fusion:
    enabled: true
    architecture: "cross_modal_transformer"
    attention_heads: 8
    hidden_dim: 512

  temporal:
    lookback_window: 252  # 1 year of trading days
    forecast_horizon: 20  # 1 month ahead
    lag_features: [1, 5, 20, 60]

# Alpha Signal Generation
alpha_generation:
  signals:
    min_information_coefficient: 0.05
    required_sharpe_ratio: 1.5
    max_correlation: 0.7  # Signal diversification
    rebalance_frequency: "daily"

  models:
    ensemble:
      - type: "xgboost"
        weight: 0.3
        params:
          max_depth: 6
          learning_rate: 0.01
          n_estimators: 1000

      - type: "lightgbm"
        weight: 0.3
        params:
          num_leaves: 31
          learning_rate: 0.01
          n_estimators: 1000

      - type: "catboost"
        weight: 0.2
        params:
          depth: 6
          learning_rate: 0.01
          iterations: 1000

      - type: "neural_network"
        weight: 0.2
        params:
          hidden_layers: [512, 256, 128]
          dropout: 0.3
          activation: "relu"

    online_learning:
      enabled: true
      update_frequency: "daily"
      learning_rate_decay: 0.95

  portfolio_construction:
    method: "hierarchical_risk_parity"
    constraints:
      max_position_size: 0.05  # 5% max per position
      max_sector_exposure: 0.20  # 20% max per sector
      max_leverage: 1.0  # No leverage
      min_liquidity: 1000000  # $1M daily volume
    rebalance_threshold: 0.02  # 2% drift triggers rebalance
    transaction_cost: 0.0010  # 10 bps

  risk_management:
    max_drawdown: 0.10  # 10% max drawdown
    stop_loss: 0.05  # 5% stop loss
    take_profit: 0.15  # 15% take profit
    var_limit: 0.02  # 2% daily VaR
    confidence_level: 0.99  # 99% confidence

# Explainable AI
explainable_ai:
  enabled: true
  methods:
    - shap
    - lime
    - attention_visualization
    - counterfactual
    - partial_dependence
  generate_reports: true
  explanation_frequency: "per_trade"
  save_attributions: true

# Backtesting
backtesting:
  engine: "event_driven"
  start_date: "2018-01-01"
  end_date: "2024-12-31"
  initial_capital: 10000000  # $10M
  benchmark: "SPY"

  execution:
    slippage_model: "volume_share"
    slippage_params:
      volume_limit: 0.025  # 2.5% of volume
    commission: 0.0005  # 5 bps
    market_impact: "square_root"  # Almgren-Chriss

  validation:
    walk_forward:
      train_period: 252  # 1 year
      test_period: 63  # 3 months
      purge_period: 5  # 5 days embargo
    cross_validation:
      n_splits: 10
      method: "combinatorial_purged"

  monte_carlo:
    enabled: true
    n_simulations: 10000
    confidence_intervals: [0.05, 0.25, 0.50, 0.75, 0.95]

# Trading System
trading:
  mode: "paper"  # paper, live, backtest
  exchanges:
    - name: "alpaca"
      enabled: true
      api_key_env: "ALPACA_API_KEY"
      api_secret_env: "ALPACA_API_SECRET"

  execution:
    algorithm: "twap"  # twap, vwap, smart
    order_type: "limit"  # market, limit
    time_in_force: "day"
    participation_rate: 0.10  # 10% of volume

  order_management:
    max_orders_per_second: 10
    max_notional_per_order: 500000  # $500K
    smart_routing: true
    dark_pool_access: false

  risk_checks:
    pre_trade:
      - position_limit
      - sector_limit
      - liquidity_check
      - correlation_check
    post_trade:
      - pnl_monitoring
      - exposure_monitoring
      - drawdown_monitoring

# Model Governance
model_governance:
  versioning:
    enabled: true
    backend: "mlflow"
    tracking_uri: "file:./models/registry"

  monitoring:
    metrics:
      - prediction_accuracy
      - feature_importance_stability
      - distribution_shift_psi
      - model_decay
    alert_thresholds:
      psi: 0.2  # Population Stability Index
      accuracy_drop: 0.10  # 10% accuracy drop

  retraining:
    trigger: "accuracy_drop"
    frequency: "weekly"
    validation_method: "walk_forward"
    champion_challenger: true

  ab_testing:
    enabled: true
    traffic_split: 0.20  # 20% to challenger
    evaluation_period: 30  # 30 days

# Infrastructure
infrastructure:
  distributed_computing:
    backend: "ray"  # ray, dask, spark
    num_workers: 8
    worker_memory: "16GB"
    use_gpu: true

  feature_store:
    enabled: true
    backend: "feast"
    online_store: "redis"
    offline_store: "parquet"

  data_versioning:
    enabled: true
    backend: "dvc"
    remote_storage: "s3"

  scheduling:
    backend: "airflow"
    dag_directory: "./airflow/dags"

  monitoring:
    prometheus:
      enabled: true
      port: 9090
    grafana:
      enabled: true
      port: 3000
    sentry:
      enabled: false
      dsn_env: "SENTRY_DSN"

# Performance Requirements
performance:
  feature_computation_latency_ms: 1000
  signal_generation_latency_ms: 100
  model_inference_latency_ms: 10
  daily_data_volume_gb: 1000
  model_retraining_hours: 4
  system_uptime_target: 0.9995

# Compliance & Reporting
compliance:
  trade_surveillance: true
  best_execution_analysis: true
  position_reporting: true
  audit_trail: true
  gdpr_compliance: true

reporting:
  performance_attribution: true
  risk_decomposition: true
  factor_exposure: true
  transaction_cost_analysis: true
  generate_frequency: "daily"
  output_format: ["pdf", "html", "json"]

# Logging
logging:
  level: "INFO"
  format: "json"
  handlers:
    - console
    - file
    - structured
  log_directory: "./logs"
  rotation: "daily"
  retention_days: 90
